<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<style>
		 #container{
            width: 100%; height: 200px; line-height: 200px; text-align: center; color: #fff; background-color: #444; font-size: 30px;
        }
		button{
			padding:10px 20px
		}
	</style>
</head>
<body>
	<div id="container">点击一下</div>
</body>
<script>
	
	function debounce(func, wait, immediate) {

		var timeout, result;

		return function () {
			var context = this;
			var args = arguments;
			console.log('aaa', timeout)
			if (timeout) clearTimeout(timeout);
			if (immediate) {
				var callNow = !timeout;
				timeout = setTimeout(function () {
					timeout = null;   // 如果注释，已经执行过，不再执行；否则第一次立即执行，后面每隔wait时间执行一次
				}, wait)
				if (callNow) result = func.apply(context, args)
			}
			else {
				timeout = setTimeout(function () {
					func.apply(context, args)
				}, wait);
			}
			return result;
		};
	}
	function getUserAction(e) {
		container.innerHTML = count++;
	};
	var count = 1;
	var container = document.getElementById('container');
	var setUseAction = debounce(getUserAction, 1000, true);
	container.onmousedown = setUseAction;
</script>
</html>